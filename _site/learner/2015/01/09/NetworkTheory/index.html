<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="baidu-site-verification" content="3parGrXZYT" />
    <title>网络原理应考</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Little Dots accumulated to make a Difference.">
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="canonical" href="http://www.surfacew.com/learner/2015/01/09/NetworkTheory/">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">

    <!-- JS File -->
    <script type="text/javascript" src="/js/main.js"></script>
    <!-- 百度统计代码 -->
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?6242d526c7b168993ae1fa46e9745996";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
</head>


    <body>

    <header class="site-header">
  <div class="wrap">

    <a class="site-title" href="/">SurfaceW</a>

    <!-- <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          <a class="page-link" href="/about/">About</a>
        
          
        
          
        
      </div>
    </nav> -->

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>网络原理应考</h1>
    <p class="meta">Jan 9, 2015</p>
  </header>

  <article class="post-content">
  <blockquote>
  <p>Author: SurfaceW， 我不是大神，也不是学霸，我只是大自然的搬运工 = = </p>
</blockquote>

<p>参考资料：</p>

<ul>
  <li>老师上课的PPT</li>
  <li>老师上课总复习PPT</li>
  <li>计算机网络（第六版）</li>
  <li>信安的考试试卷</li>
</ul>

<h2 id="section">网络原理的精髓思想</h2>

<ul>
  <li><strong>分层抽象</strong>，提供：<strong>实体</strong>、<strong>原语</strong>、<strong>服务</strong>、<strong>接口</strong>和<strong>协议</strong>（定义<em>报文</em>（本质是数据结构）、数据帧、头的范式）</li>
  <li>局部性原理的应用（Cache）</li>
  <li>计时器(TTL)思想、滑动窗口思想</li>
  <li>Socket思想，API的思想</li>
  <li>逻辑地址和物理地址的抽象</li>
  <li>层次抽象和性能代价的折衷（对复杂结构的掩盖所需要付诸的额外代价的矛盾性）</li>
  <li>网络协议的构成：语法、语义和同步</li>
</ul>

<p>其实说白了，计算机科学诸多分支中共享着很多精髓的设计思想。</p>

<h2 id="section-1">第一章 概述</h2>

<h3 id="section-2">(考点) 因特网的概念，特点以及各层的工作对象及其组成总览</h3>
<p>理解：互联网可以由多种异构网络互联组成这句话的含义，连接异构的网络的物理设备叫做网关。
三网的概念：电信（电话、传真服务）网络、有线电视网络、计算机网络。</p>

<p>计算机网络的分类：</p>

<ul>
  <li>广域网 WAN / 城域网 MAN / 局域网 LAN / 个人（无线）区域网 PAN/WPAN</li>
  <li>公用网 / 专用网</li>
  <li>接入网 AN</li>
</ul>

<h4 id="section-3">各层次和对应关键词</h4>
<ul>
  <li>物理层
    <ul>
      <li>负责比特传输</li>
    </ul>
  </li>
  <li>数据链路层
    <ul>
      <li>负责数据帧传输、数据报纠错</li>
      <li>点对点协议 PPP</li>
      <li>CSMA/CD 协议</li>
    </ul>
  </li>
  <li>网络层
    <ul>
      <li>负责数据报传输、寻址、路由选择</li>
      <li>IP协议</li>
      <li>ICMP协议</li>
      <li>路由选择协议
        <ul>
          <li>RIP / OSPF / BGP</li>
        </ul>
      </li>
      <li>网际组管理协议 IGMP</li>
    </ul>
  </li>
  <li>运输层
    <ul>
      <li>作用：两个主机中进程之间的通信提供通用的数据传输服务。提供：复用和分用的功能。也会提供分组和纠错处理等功能。</li>
      <li>用户数据报 UDP
        <ul>
          <li>提供无连接的、尽最大努力的数据传输服务</li>
        </ul>
      </li>
      <li>传输控制协议 TCP
        <ul>
          <li>面向连接的、可靠的数据传输服务，负责可靠字节流的传输、流量控制、拥塞控制</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>应用层
    <ul>
      <li>作用：通过应用进程之间的交互来完成特定的网络应用。</li>
      <li>域名服务 DNS</li>
      <li>远程终端 TELNET</li>
      <li>文件传输协议 FTP</li>
      <li>电子邮件传送协议 SMTP</li>
      <li>邮件读取协议 POP3 / IMAP</li>
      <li>动态主机配置协议 DHCP</li>
      <li>超文本传送协议 HTTP</li>
    </ul>
  </li>
</ul>

<h4 id="section-4">各层次对应的中间设备</h4>
<p>理解中间设备的概念：</p>

<ul>
  <li>网卡中具有适配器 Adapter</li>
  <li>物理层使用的中间设备：转发器 Repeater</li>
  <li>数据链路层使用的中间设备：网桥或者桥接器 Bridge
    <ul>
      <li>转发器或网桥的作用在于扩大网络</li>
    </ul>
  </li>
  <li>网络层使用的中间设备：路由器 Router
    <ul>
      <li>网络互连和路由选择，路由器的本质是一台专用的计算机，用来在互联网中进行路由选择</li>
    </ul>
  </li>
  <li>网络层以上使用的中间设备：网关 Gateway
    <ul>
      <li>网关是用于连接两个不兼容的系统需要在高层进行协议转换。</li>
    </ul>
  </li>
</ul>

<h3 id="section-5">因特网的组成，网络边缘与核心</h3>
<p>Internet的概述：</p>

<ul>
  <li>理解概念：结点 node 、链路 link 、网络服务提供商 ISP、因特网交换点 IXP、标准化机构：RFC</li>
  <li>因特网的结构：主干 ISP -&gt; 地区 ISP -&gt; 本地 ISP -&gt; 公司、校园、组织团体</li>
</ul>

<p>因特网的组成：</p>

<ul>
  <li>边缘部分：所有连接在因特网上的主机组成（端系统）。这部分是用户直接使用的，用来进行通信和资源共享。</li>
  <li>核心部分：由大量网络和链接这些网络的<strong>路由器</strong>组成，为边缘部分提供服务。</li>
</ul>

<h4 id="section-6">服务方式</h4>

<ul>
  <li>客户-服务器方式 C/S</li>
  <li>对等连接方式 P2P</li>
</ul>

<h4 id="section-7">交换方式</h4>

<ul>
  <li>电路交换
    <ul>
      <li>过程：建立连接 -&gt; 通话 -&gt; 释放连接，整个报文的比特流连续地从源点直达终点，如同在管道中传送。</li>
      <li>特点：通话过程会一直占用端到端的通信资源，因而传输效率往往很低。在端到端之间建立连接也有成本消耗。</li>
    </ul>
  </li>
  <li>分组交换
    <ul>
      <li>特点：<strong>存储转发技术</strong>，将报文划分为几个分组的概念，在数据前加入首部，构成一个分组 Packet。整个报文先传送到相邻的结点，全部存储下来以后，在转发到下一个结点。</li>
      <li>优点：高效、灵活、迅速、可靠。</li>
      <li>参考书上 P15-16 理解</li>
    </ul>
  </li>
  <li>报文交换
    <ul>
      <li>特点：单个分组（只是整个报文的一部分）传送到相邻结点，存储下来，在转发。</li>
    </ul>
  </li>
</ul>

<p>衡量他们之间的使用情形：</p>

<ul>
  <li>若要连续传送大量数据，且传送时间大于连接建立时间 —— 电路交换</li>
  <li>分组交换比报文交换的延时小，也同时具有更好的灵活性</li>
</ul>

<h3 id="section-8">计算机网络的性能指标</h3>

<ul>
  <li>(考点) 时延：<strong>总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延</strong>
    <ul>
      <li>发送时延 = 数据帧长度 (b) ➗ 发送速率 (b/s)</li>
      <li>传播时延 = 信道长度 (m) ➗ 信道上信号的传输速率 (m/s)</li>
      <li>处理时延 = 主机、路由在收到分组时所花费的用于处理数据的时间</li>
      <li>排队时延 = 在路由器中开始排队直到被处理所需要的时间</li>
    </ul>
  </li>
  <li>速率：b/s kb/s Mb/s Gb/s Tb/s</li>
  <li>宽带
    <ul>
      <li>含义一：信号具有的频带宽度，单位 Hz</li>
      <li>含义二：最高数据率，单位 bit/s</li>
    </ul>
  </li>
  <li>吞吐量：单位时间内，通过某个网络的数据量</li>
  <li>时延宽带积 = 传播时延(s) * 带宽(bit/s)</li>
  <li>往返时间 RTT：从发送方发送数据开始，到接收方确认所总共经历的时间</li>
  <li>利用率：
    <ul>
      <li>信道利用率</li>
      <li>网络利用率 = 1 - 网络当前时延 / 网络空闲时延</li>
    </ul>
  </li>
</ul>

<h3 id="section-9">计算机网络体系结构</h3>
<p><strong>（考点）协议栈及各层的简单功能，端到端的数据封装、传送的顺序</strong> 书上 P24 - 35 概览</p>

<h2 id="section-10">第二章 物理层</h2>

<h3 id="section-11">关键术语</h3>
<p>基带信号：来自信源的信号
带宽：传输信道的可用频率范围</p>

<h3 id="section-12">信道的基本概念</h3>
<p>信道：信道一般是用来表示某一个方向传送信息的媒体。
单向通行：单工信道 
双向交替通行：半双工信道
双向通信：全双工信道</p>

<h3 id="section-13">数据通信基本概念</h3>

<ul>
  <li>一个数据通信系统可以划分为三大部分：源系统、传输系统和目的系统。从中会有模拟信号和数字信号的转变。</li>
  <li>常用的编码方式：曼彻斯特编码：位周期中心的向上跳变代表 0， 位周期中心的向下跳变代表 1，亦可以反过来定义。</li>
  <li>基本的通带调制方法：调幅、调频、调相</li>
  <li>信道的极限容量
    <ul>
      <li>信道能够通过的频率范围</li>
      <li>信噪比
        <ul>
          <li>信道的极限信息传输速率 C = WLog(1 + S/N)(b/s) 其中S/N为信噪比，即：信息的功率与噪声功率之比，可见信噪比越大，传输速率越快；再者，如果让每一个码元能够携带更多的bit信息，那么速率也会越快。</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="section-14">导向传输媒体和非导向传输媒体</h3>

<ul>
  <li>导向型传输媒体
    <ul>
      <li>双绞线 —— 使用十分广泛，性价比高</li>
      <li>同轴电缆 —— 有线电视网络使用较多</li>
      <li>光缆（光纤）—— 主干网络，要求速度较高的局域网</li>
    </ul>
  </li>
  <li>非导向型传输媒体
    <ul>
      <li>不同频率的无线电</li>
      <li>微波通信（地面微波接力、卫星通信）
        <ul>
          <li>主要特点：信道容量大，频率段高，频率范围广；干扰小，传输质量高；</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="section-15">信道复用技术</h3>

<p>关键在于：多设备共享一个信道，提高信道的利用率。</p>

<ul>
  <li>频分复用：用户占用固定的频带，让所有用户在同样的时间里占用不同的带宽（频率带宽）资源。</li>
  <li>时分复用：将时间划分为一段段等长的时分复用帧，每一个时分复用的用户在每一个TDM帧中占有固定序号的时间间隙。使用户在不同的时间占有相同的频带宽度。</li>
  <li>统计时分复用：改进的时分复用，能提高通信信道的利用率。利用异步时分复用的方式，将数据帧缓存到STDM帧中，然后发送出去，以提高信道利用率。</li>
  <li>波分复用 WDM：为光的频分复用。</li>
  <li>码分复用 CDM / CDMA 码分多址
    <ul>
      <li>主要特点：各个用户使用经过特殊挑选的码型进行复用，不会造成干扰，具有抗干扰的能力。</li>
      <li>（考点）重点，具体的计算方法参考书上：P54
        <ul>
          <li>保证分配的一对码片的正交性</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="section-16">宽带接入技术</h3>

<ul>
  <li>ADSL技术：利用数字技术对现代的模拟电话线改造，调制解调器（数模转换）</li>
  <li>FTTx技术：光纤技术，光电信号转换。</li>
</ul>

<h2 id="section-17">第三章 数据链路层</h2>

<p>数据链路层主要使用：点对点信道和广播信道。</p>

<h3 id="section-18">基本概念</h3>

<ul>
  <li>数据链路概念
    <ul>
      <li>链路的概念：从一个结点到相邻结点的物理线路（有线或者无线），而中间没有其他的交换结点。</li>
      <li>数据链路的概念：把实现控制数据传输的协议的硬件和软件加到链路上就成了数据链路。</li>
    </ul>
  </li>
  <li>帧：链路层将上层传来的数据报封装成的数据的称谓</li>
  <li>MAC地址：硬件设备的网络地址，具有唯一性，48位长</li>
</ul>

<p>关键问题：</p>

<ul>
  <li>封装成帧
    <ul>
      <li>了解概念：MTU 最大传送单元</li>
      <li>理解帧定界的概念 SOH / EOT 控制符</li>
    </ul>
  </li>
  <li>透明传输
    <ul>
      <li>了解如何解决透明传输的问题（转义字符的插入，字节填充、字符填充）</li>
    </ul>
  </li>
  <li>差错检测
    <ul>
      <li>了解：循环冗余检验 CRC 的检错技术</li>
    </ul>
  </li>
</ul>

<h3 id="ppp">PPP协议特点、状态转换</h3>
<p>点对点协议 PPP，只支持<strong>全双工电路</strong>。</p>

<ul>
  <li>需要满足的需求：
    <ul>
      <li>简单：不需要纠错，不需要序号，不需要流量控制</li>
      <li>封装成帧：必须规定特殊的字符为帧界定符，以便能够从接收到的比特流中界定帧的开始和结束位置</li>
      <li>透明性：利用转义字符避免数据和界定符的重复，例如：零比特填充法</li>
      <li>支持多种网络层协议</li>
      <li>支持多种类型的链路</li>
      <li>差错检测：如有错误，立刻丢弃</li>
      <li>检测链接状态：能够检测链路是否处于正常工作状态</li>
      <li>最大传送单元：最大<strong>数据</strong>部分的长度，不是帧的总长 MTU</li>
      <li>网络层地址协商</li>
      <li>数据压缩协商</li>
    </ul>
  </li>
  <li>协议的组成：
    <ul>
      <li>一个将IP数据报封装到串行链路的方法。</li>
      <li>一个用来建立、配置和测试数据链路连接的：链路控制协议 LCP</li>
      <li>一套网络控制协议 NCP</li>
    </ul>
  </li>
  <li>（考点）协议的<strong>工作状态</strong>及其状态转换
    <ul>
      <li>书P77 （重要）</li>
    </ul>
  </li>
</ul>

<h3 id="section-19">以太网</h3>

<p>了解：由集线器构建的星形网，环状网，总线网搭建起来的以太网架构。
理解：共享信道的概念。
了解：静态划分信道（频分复用、时分复用、波分复用和码分复用等，但由于代价太高一般不适合局域网），动态媒体接入控制（随机接入法）。
理解适配器的作用：计算机与外界局域网的连接是通过通信适配器进行的。网络接口卡 NIC，适配器的一个重要功能就是进行数据串行、并行传输的转换。</p>

<ul>
  <li>（考点）10baseT：星型以太网，利用集线器构成</li>
  <li>（考点）<strong>CSMA/CD</strong> 协议 载波监听多点接入/碰撞检测
    <ul>
      <li>采用无连接的工作方式，不编号，尽量最大努力的交付即不可靠交付</li>
      <li>高层决定差错重传，同一时刻只允许一台计算机发送数据</li>
      <li>必须在发送前检测信号，并且要一边发送，一边监听</li>
      <li>（考点）理解其工作原理，书 P83 - 86 总结</li>
    </ul>
  </li>
  <li>（考点）曼彻斯特编码
    <ul>
      <li>以太网发送的数据都使用曼彻斯特编码的信号</li>
    </ul>
  </li>
  <li>以太网的 Mac 层
    <ul>
      <li>理解 Mac 地址的概念，和其唯一性的保障</li>
      <li>理解：单播帧、广播帧和多播帧的概念</li>
      <li>了解 Mac 帧的格式</li>
    </ul>
  </li>
  <li>了解高速以太网是一种怎样的存在</li>
  <li>了解以太网的宽带接入（PPPoE）</li>
</ul>

<h3 id="switch">Switch</h3>

<ul>
  <li>理解物理层扩展以太网的方法（集线器）</li>
  <li>（考点）理解在数据链路层扩展以太网的方法（网桥）
    <ul>
      <li>网桥的类型
        <ul>
          <li>透明网桥：即插即用的设备
            <ul>
              <li>开始转发表为空，随后<strong>自学习</strong>算法处理收到的帧</li>
            </ul>
          </li>
          <li>源路由网桥：将详细路由信息放在帧首部中的网桥设备</li>
          <li>多接口网桥：以太网交换机
            <ul>
              <li>优势：交换机能够同时联通许多对接口，使每一对接口都能够像独占传输媒体那样，无碰撞地传输数据。再者，也是即插即用，通过自学习算法建立转发表，支持VLAN</li>
              <li>虚拟局域网服务
                <ul>
                  <li>理解 LAN 和 VLAN 的概念</li>
                  <li>杜绝广播风暴的优势</li>
                  <li>了解以太网Mac帧的 VLAN Tag 标记的存在意义</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>了解网桥的内部大致结构（转发表、接口）</li>
      <li>理解网桥过滤通信量、增大吞吐量的原因，了解其优势：扩大物理乏味、提高可靠性、可互联不同物理层、不同Mac子层和不同速率的以太网。</li>
      <li>了解网桥的缺点：增加延时、无流量控制容易产生帧丢失、广播风暴</li>
      <li>（考点 · 重点）<strong>自学习方式和转发表的建立</strong>
        <ul>
          <li>记录源地址 + 对应的进入网桥的接口</li>
          <li><strong>理解自学习的一般步骤</strong> P99</li>
          <li>透明网桥也使用了生成树算法避免发送帧兜圈子的现象</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="section-20">第四章 网络层</h2>

<h3 id="section-21">网络层功能和协议</h3>

<h4 id="section-22">网络层提供两种服务：虚电路服务和数据报服务，理解两种服务的对比。</h4>
<p>网络层向上只提供<em>简单灵活的、无连接的、尽最大努力交付</em>的数据服务。网络层<em>不提供服务质量</em>的承诺。</p>

<p>理解直接交付、间接交付的概念。</p>

<h3 id="ip">网际协议 IP</h3>
<p>与IP协议配套的三个协议：ARP(RARP) / ICMP / IGMP</p>

<h4 id="ip-1">（考点）分类的IP地址</h4>
<p>参考书上 P118</p>

<ul>
  <li>网络号、端口号的概念</li>
  <li>A-E类网址划分的方法和对应的作用，了解不同地址分配数量的计算</li>
  <li>常用的三类IP地址中，0.0.0.0 本网络概念 以及 127.x.x.x 环回地址的概念，以及 1.1.1.1 所有网络的概念</li>
  <li>理解IP地址的如下特点：
    <ul>
      <li>路由器的转发分组依据是：网络号</li>
      <li>路由器所连接的是多个不同类型的网络号的网络</li>
      <li>转发器和网桥建立起的网络具有相同的网络号</li>
    </ul>
  </li>
</ul>

<h4 id="ip-2">IP地址与硬件地址</h4>

<ul>
  <li>理解逻辑地址(IP)和物理地址(MAC)的区别
    <ul>
      <li>路由器转发中，IP不变，MAC改变</li>
      <li>IP抽象层中互联网上只能够看见IP数据报</li>
      <li>局域网链路层中，只能够看见MAC帧</li>
    </ul>
  </li>
  <li>理解报文层层封装和拆解的概念</li>
  <li>（考点）地址解析协议 ARP 书上 P123
    <ul>
      <li>理解ARP的功能：IP -&gt; MAC</li>
      <li>理解ARP的原理：高速缓存了一个IP/MAC地址表</li>
      <li>理解ARP协议的工作过程
        <ul>
          <li>若有，则给之</li>
          <li>若无，则请求分组，相互 Cache 分组响应的数据</li>
        </ul>
      </li>
      <li>注意：对象是同一局域网内的机器，若要寻求其他的，必须通过路由器见解转移后获取</li>
    </ul>
  </li>
</ul>

<h4 id="ipv4">（考点）IPV4</h4>
<p>书上P127（重点）
IP数据报格式：首部（固定 + 可变） + 数据部分</p>

<ul>
  <li>首部格式
    <ul>
      <li>理解每一个bit的含义（考试要考）书上P127</li>
      <li>版本4 / 首部长度4 / 区分服务8 / 总长度16 / 标识16 / 标志3 / 片偏移13 / 生存时间8 / 协议8 / 首部校验和16 / 源地址32 / 目的地址32
        <ul>
          <li>掌握首部校验和的计算方法（要考）</li>
          <li>理解生存时间的概念和意义</li>
          <li>掌握片偏移的作用和计算方法（要考：分片）</li>
          <li>注意：<strong>这里的校验和，只校验首部</strong></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>理解IP层转发分组的流程
    <ul>
      <li>一个路由器 -&gt; 下一个路由器的过程，其中最重要的信息（目的网络地址，下一跳地址）</li>
      <li>了解特定主机路由和默认路由的概念</li>
    </ul>
  </li>
  <li>(重要)<strong>分组转发算法</strong> 书上P133
    <ul>
      <li>理解通用过程，并能够完整复述</li>
    </ul>
  </li>
</ul>

<p>数据报分片</p>

<h3 id="cidr">子网划分 与 CIDR</h3>
<ul>
  <li>子网划分的目的在于：提高IPV4的利用率和灵活性，但是减少了能够连接在网络上的总主机数目</li>
  <li>CIDR的目的在于：扩展可用的地址空间</li>
</ul>

<h4 id="section-23">划分子网</h4>

<ul>
  <li>理解二级地址和三级地址的概念</li>
  <li>（要考）理解三级地址的结构和子网寻址的方法 P137</li>
  <li>（要考）理解子网掩码的概念，能够根据子网掩码求取子网的网络地址 P138</li>
  <li>（重要）掌握使用子网的时候分组转发算法 P139</li>
</ul>

<h4 id="cidr-">CIDR 无分类编址</h4>
<p>超网构建</p>

<ul>
  <li>理解CIDR的地址格式</li>
  <li>能够计算对应地址的最小地址和最大地址</li>
  <li>了解路由聚合的概念
    <ul>
      <li>IP地址由网络前缀和下一跳地址组成。</li>
    </ul>
  </li>
  <li>了解最长前缀匹配的概念</li>
</ul>

<h3 id="icmp-ping">ICMP ping</h3>
<p>网际控制报文协议有两类报文：ICMP差错报告报文和ICMP询问报文
注意：ICMP报文是恰如在IP数据报的数据部分的</p>

<ul>
  <li>报文格式：三个字段：类型、代码和校验和
    <ul>
      <li>注意区分这里的校验和与：IP数据报中、TCP数据报中校验和的不同</li>
    </ul>
  </li>
  <li>差错报文的类型：
    <ul>
      <li>终点不可达 —— 不可达</li>
      <li>源点抑制 —— 拥塞丢失</li>
      <li>时间超时 —— 路由器收到TTL为0的数据报时，所发送的反馈</li>
      <li>参数问题</li>
      <li>改变路由（重定向）</li>
    </ul>
  </li>
  <li>询问报文的类型
    <ul>
      <li>回送请求和回答</li>
      <li>时间戳请求和回答</li>
    </ul>
  </li>
  <li>ICMP的应用
    <ul>
      <li>ping 的命令和返回格式的意义</li>
      <li>跟踪访问路由的顺序的机制</li>
    </ul>
  </li>
</ul>

<h3 id="section-24">路由选择协议</h3>
<p>理解分层次的路由选择协议的设计初衷。理解自治系统 AS 的概念。</p>

<ul>
  <li>内部网关协议 IGP
    <ul>
      <li>（考点）RIP 路由信息协议
        <ul>
          <li>一种分布式的基于距离向量的路由选择协议</li>
          <li>最大优点：简单，实现开销小，适合小规模网络</li>
          <li>缺点：网络出现故障时，要经过比较长的时间才能将此信息传送到所有的路由器</li>
          <li><strong>必须会初始化RIP路由表和动态更新的过程</strong></li>
          <li>RIP使用UDP数据报进行传送</li>
        </ul>
      </li>
      <li>（考点）OSPF 开放最短路径优先
        <ul>
          <li>使用的是：分布式的链路状态协议</li>
          <li>与RIP的区别
            <ul>
              <li>泛洪的方式向自治系统的所有路由器发送信息</li>
              <li>发送的信息是和本路由器相邻的所有路由器的链路状态</li>
              <li>只有当链路状态发生变化的时候，才进行泛洪</li>
            </ul>
          </li>
          <li>所有的路由器最终都维护一个链路状态数据库，也就是全网的拓扑结构图，这个拓扑图在全网范围内是一致的，而后用单源最短路径算法进行信息传送</li>
          <li>OSPF的更新过程收敛更快</li>
          <li>OSPF使用的是IP数据报</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>外部网关协议
    <ul>
      <li>不同自制系统之间的信息传递</li>
      <li>BGP 边界网关协议
        <ul>
          <li>采用路径向量路由选择协议</li>
          <li>使用的是TCP连接，端口号179，然后建立BGP会话</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>DV和LS算法的特点和对比
    <ul>
      <li>距离向量算法</li>
    </ul>
  </li>
</ul>

<h3 id="ip-3">IP多播</h3>
<p>一对多通信，理解单播和多播的概念以及区别。
了解多播路由器、IP多播的概念。
注意：多播地址只能够用于目的地址，不能用于源地址，并且多播不会产生ICMP差错报文
多播的方式：</p>

<ul>
  <li>Internet上的多播</li>
  <li>局域网上的硬件多播</li>
</ul>

<p>IP多播需要两种协议：IGMP（网际组管理协议） 和 多播路由选择协议</p>

<h3 id="vpn--nat-">VPN 和 NAT 概念</h3>
<p>#### VPN
理解专用地址 10.x.x.x 的概念</p>

<ul>
  <li>了解：本地地址和全球地址的区别</li>
  <li>注意：Internet中所有的路由器，对目的地址是专用地址的数据报一律不进行转发</li>
  <li>了解：利用 Internet 网络构建的隧道技术构成虚拟专用网的模型</li>
  <li>了解：内联网、外联网和远程接入VPN的概念</li>
</ul>

<h4 id="nat">NAT</h4>
<p>网络地址转换 NAT</p>

<ul>
  <li>理解NAT的作用
    <ul>
      <li>专用网IP -&gt; 全球IP</li>
      <li>全球IP反寻请求主机的过程</li>
    </ul>
  </li>
  <li>NAPT：了解网络地址与端口号转换
    <ul>
      <li>利用TCP/UDP的端口号来实现源IP地址和全球IP地址的转换</li>
    </ul>
  </li>
</ul>

<h3 id="ipv6">IPV6</h3>

<p>为了解决IPV4地址不足而设计的64为地址。</p>

<h2 id="section-25">第五章 传输层</h2>
<p>作用：提供不同主机上进程间的通信。是端到端通信，通信的主体是<strong>进程</strong>。在发送端，运输层从应用层接收报文，将报文分割成数据段，传递给网络层；在接收端，运输层从网络层获取数据段，重组成报文，交送给应用层。</p>

<p>运输层的复用与分用：</p>

<ul>
  <li>端口号：也叫做端口，是一种地址，用于在主机中标识进程。
    <ul>
      <li>了解：三种端口号：熟知端口号 0 - 1023 / 登记端口号 / 客户端端口号或短暂端口号</li>
    </ul>
  </li>
  <li>将应用进程与外界通信的接口称为套接字，一个套接字只能属于一个进程，一个进程可以有多个套接字。</li>
  <li>复用：从多个进程的多个socket接收数据，封装首部，传递给网络层。</li>
  <li>分用：从网络层接收到数据，递交到适合的socket中，等待应用进程处理。</li>
</ul>

<h3 id="tcp">TCP</h3>
<p><strong>面向连接的，可靠的TCP</strong>，点到点的，按序的字节流服务，没有信息边界
可靠传输协议：为上层提供不出错，不丢失，不乱序的通信。
过程：连接建立，传输数据，释放连接
TCP是可靠的，顺序的，流水的，具有拥塞控制和流量控制的能力
TCP是全双工通信的</p>

<p>TCP的连接：</p>

<ul>
  <li>TCP连接的端点叫做：套接字 Socket 或插口
    <ul>
      <li>套接字 Socket = (IP:Port)</li>
    </ul>
  </li>
  <li>每一条TCP连接唯一地被通信两端的两个端点（套接字）所确定：
    <ul>
      <li>TCP连接 ::= {socket1, socket2} = {(IP1:port1), (IP2, port2)}</li>
    </ul>
  </li>
</ul>

<h4 id="section-26">（考点）首部格式</h4>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>TCP段格式：源端口 16bit / 目的端口 16bit / 顺序号 32bit / 确认号 32bit / 数据偏移 4bit / 保留 6bit / 6bit标志位：URG</td>
          <td>ACK</td>
          <td>PSH</td>
          <td>RST</td>
          <td>SYN</td>
          <td>FIN / 窗口 16bit / 校验和 16bit / 紧急指针 16bit / 选项（可变长） / 填充 / 数据段</td>
        </tr>
      </tbody>
    </table>
    <ul>
      <li>若确认号 = N, 则表明：到序号 N-1 为止的所有数据都已正确收到</li>
      <li>保留位置0</li>
      <li>URG = 1 时，紧急指针有效</li>
      <li>ACK = 1 时，确认号字段有效，TCP规定，在连接建立之后所有传送的报文段都必须把ACK置1</li>
      <li>PSH 推送，当PSH = 1 时，接收方会尽快地交付接收应用进程，不再等到整个缓存都填满了后再向上交付。</li>
      <li>RST = 1 时，表示严重差错，必须释放连接，并重新连接。</li>
      <li>SYN 在连接建立时用来同步序号。当 SYN = 1 而 ACK = 0 时，表明这一是一个连接请求的报文段。</li>
      <li>FIN = 1 时，用于释放连接。</li>
      <li>窗口指的是发送报文段的一方的接收窗口（而不是自己的发送窗口）。窗口值告诉对方：从本报文段首部中的确认号算起接收方目前允许对方发送的数据量。注意<strong>窗口字段明确指出了现在允许对方发送的数据量。窗口值是经常在动态变化着的</strong>。</li>
      <li>校验和，计算方式与UDP校验和的计算方式一致。</li>
      <li>紧急指针，用于指向紧急数据的末尾在报文中的位置。注意：即使是窗口为0，也可以发送紧急数据。</li>
    </ul>
  </li>
</ul>

<h4 id="section-27">（考点）可靠传输</h4>

<ul>
  <li>工作原理
    <ul>
      <li>停止等待协议</li>
      <li>信道利用率 U = Td / (Td + RTT + Ta)</li>
    </ul>
  </li>
  <li>顺序号</li>
  <li>确认号含义</li>
  <li>滑动窗口
    <ul>
      <li>缓冲区的管理</li>
      <li><strong>理解滑动窗口</strong>的数据传输方式和过程</li>
    </ul>
  </li>
</ul>

<h4 id="section-28">（考点）拥塞控制、流量控制</h4>

<ul>
  <li>流量控制
    <ul>
      <li>利用滑动窗口实现流量控制
        <ul>
          <li>发送方发送的窗口不能超过接收方给出的接收窗口的数值。</li>
          <li>利用持续计器发送一个零窗口的探测报文段来打破死锁局面。</li>
        </ul>
      </li>
      <li>rwnd（接收窗口）状态变量</li>
    </ul>
  </li>
  <li>拥塞控制
  拥塞控制的目的在于：防止过多的数据注入到网络中。cwnd（拥塞窗口）状态变量：取决于网络的拥塞程度，并且在动态地变化。发送方让自己的发送窗口等于拥塞窗口。
    <ul>
      <li>慢开始和拥塞避免
        <ul>
          <li>由小到大逐渐增大拥塞窗口的数值</li>
          <li>乘法减小和加法增大</li>
          <li>拥塞避免算法的思路是让拥塞窗口的cnwd逐渐增大，一旦发生拥塞，将窗口置1后增大到新的 ssthresh值</li>
        </ul>
      </li>
      <li>快重传和快恢复</li>
      <li>随机早期检测RED</li>
    </ul>
  </li>
</ul>

<h4 id="section-29">（考点）连接建立、数据传输、撤销整个过程</h4>
<p><strong>请务必认真看书理解</strong>
- TCP连接建立
	- 传输控制块TCB的概念
	- 三次握手
- TCP数据传送
- TCP连接释放
	- 四次握手
	- 2MSL计时器(最长报文段寿命) / 保活计时器</p>

<p>理解TCP的<strong>有限状态机</strong>。</p>

<h3 id="udp">UDP</h3>

<ul>
  <li><strong>无连接，不可靠的UDP</strong>，不使用 拥塞控制，支持一对一、一对多和多对多的面向报文的交互通信。</li>
  <li>尽最大努力交付，不可靠，不保证顺序。</li>
  <li>首部开销小，8Bytes。</li>
</ul>

<h4 id="tcp-">（考点）基本原理、与 TCP 的不同之处</h4>
<p>只在IP协议的基础上进行了简单扩展</p>

<ul>
  <li>添加了：复用 / 分用和差错检查的功能</li>
</ul>

<p>UDP首部格式：伪首部 / 源端口 / 目的端口 / 长度 / 校验和 / 数据部分</p>

<h4 id="section-30">（考点）首部校验和</h4>
<p><strong>必须会计算！！</strong> 书上P195
注意：伪首部既不想上，也不向下提交，只为用于计算校验和。
注意：首部校验和的计算方法和IP数据报的首部校验和的方法相似，只不过，IP数据报的校验和只检查IP数据报的首部，<strong>但UDP的检验和是把首部和数据部分一起检查的</strong>。</p>

<h2 id="section-31">第六章 应用层</h2>

<h3 id="section-32">（考点）协议的原理、端口号，下层运输层协议</h3>

<p>DNS协议：端口为53  下层运输层协议：UDP
HTTP协议：端口为80 下层运输层协议：TCP
FTP协议：端口21(控制端口) 20(数据端口) 下层传输协议：TCP
STMP协议：端口25 下层传输协议：TCP</p>

<p>一般来说：SMTP TELNET HTTP FTP 使用的是可靠字节流传送，即TCP，其它的为UDP（DNS, TFTP, RIP, DHCP, SNMP, NFS, IGMP）。</p>

<h3 id="dns--ip-">DNS 域名和 IP 地址映射</h3>

<p>主要功能：实现主机名和IP地址的映射。
其它功能：主机别名，邮件服务器别名，负载平衡等等。
实现方法：分级域名服务器上实现分布式数据库。</p>

<p>了解分级域名的概念：根域名 / 顶级域名 / 一级域名 / …
了解资源记录的四元组 RR = (type, name, value, ttl) 参数的含义</p>

<ul>
  <li>Type = A, AAAA, NS, CNAME, MX 的意义以及四元组的格式</li>
  <li>TTL 的含义：缓存有效时间</li>
</ul>

<p>DNS的信息格式 —— 查询 Query + 相应 Reply 两种报文
理解DNS查询过程 —— 书上P243
- 迭代查询过程
- 递归查询过程</p>

<h3 id="web--www">Web / WWW</h3>

<ul>
  <li>URL格式： 协议://主机名:端口号/路径?查询参数1=值1&amp;查询参数2=值2…</li>
</ul>

<h3 id="http---">HTTP 持久 和 非持久</h3>
<p>基本概念：C/S（客户端/服务器）模式</p>

<ul>
  <li>了解HTTP的点击URL的过程 PPT P24</li>
  <li>非持续连接
    <ul>
      <li>非持续连接 每个文档对象两个RTT开销</li>
    </ul>
  </li>
  <li>持续连接：
    <ul>
      <li>流水线的持续连接 每个文档对象一个RTT开销</li>
      <li>非流水线的持续连接 所有文档对象共一个RTT开销</li>
    </ul>
  </li>
  <li>了解传送的图谱</li>
</ul>

<p>HTTP 有两类报文：请求报文 / 响应报文
HTTP 请求报文的方法：GET / POST / OPTION / DELETE / PUT / HEAD / TRACE / CONNECT
HTTP 响应状态码：1xx 表示通知信息 / 2xx 成功 / 3xx 重定向 / 4xx 客户端差错 / 5xx 服务器端差错
HTTP 的状态：无状态 / 有状态(Cookie / Session)
了解两种报文的大致结构 PPT P26
了解代理服务器和Web内容缓存的概念</p>

<h3 id="mail-protocol">Mail Protocol</h3>

<ul>
  <li>SMTP 简单电子邮件传送协议
    <ul>
      <li>电子邮件发送协议</li>
    </ul>
  </li>
  <li>POP / IMAP
    <ul>
      <li>电子邮件读取协议</li>
    </ul>
  </li>
  <li>MIME
    <ul>
      <li>通用因特网邮件扩充，会在邮件首部说明传送的数据类型</li>
      <li>MIME标准规定 Content-Type 说明必须还有两个标识符：type + subtype 即类型和子类型</li>
    </ul>
  </li>
  <li>理解电子邮件收发的两种方式
    <ul>
      <li>用户代理 -&gt; SMTP -&gt; 发送端邮件服务器 SMTP -&gt; 接收端邮件服务器 -&gt; POP/IMAP 读取邮件 -&gt; 用户代理</li>
      <li>用户浏览器 -&gt; HTTP -&gt; 发送端邮件服务器 -&gt; SMTP -&gt; 接收端邮件服务器 -&gt; HTTP -&gt; 用户浏览器</li>
    </ul>
  </li>
  <li>电子邮件地址格式：username@domain</li>
  <li>过程：链接建立 -&gt; 邮件传送 -&gt; 链接释放</li>
</ul>

<h3 id="ftp">FTP</h3>

<ul>
  <li>两个从属进程：控制进程 + 数据传送进程</li>
  <li>注意：FTP的控制信息是<strong>带外</strong>传送的，拥有<strong>两个</strong>端口号</li>
</ul>

<h2 id="section-33">大题专题（应用题）</h2>

<h3 id="dns-ip">DNS查询过程 （域名和IP地址的对应关系查询）</h3>

<h3 id="arp-dns">理解网络中的行为，ARP, DNS协议</h3>

<h3 id="section-34">网络路由实验，静态路由</h3>

<h3 id="tcp-1">TCP连接建立过程，数据传送过程，断开过程中分组的具体序号和标志</h3>

<h3 id="tcp-2">TCP的拥塞控制</h3>

<h3 id="rip">RIP路由表的建立，变化过程</h3>

<h3 id="ip-4">IP地址划分</h3>

<h3 id="switch-1">SWITCH自学习过程</h3>

<h3 id="checksum">Checksum对首部的计算</h3>

  </article>

</div>
      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <!-- <h2 class="footer-heading">SurfaceW</h2> -->

    <div class="footer-col-1 column">
      <ul>
        <li>SurfaceW</li>
        <li><a href="mailto:surfacew@163.com">surfacew@163.com</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/SurfaceW" target="self_blank">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <span class="username">SurfaceW</span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/yeqingnan" target="self_blank">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
                c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
                c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
                C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
                c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
                c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>
            <span class="username">yeqingnan</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text">Little Dots accumulated to make a Difference.</p>
    </div>

  </div>

</footer>


    </body>
</html>